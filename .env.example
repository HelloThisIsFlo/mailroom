# Mailroom Configuration
# Copy to .env and fill in your credentials:
#   cp .env.example .env
# This is the single source of truth -- human tests also load from root .env

# === Auth / Connection (required -- no defaults, service won't start without these) ===

# Fastmail JMAP API token
# Get at: Fastmail -> Settings -> Privacy & Security -> API tokens
MAILROOM_JMAP_TOKEN=fmu1-your-jmap-token-here

# CardDAV credentials for contact management
# Username: your full Fastmail email address
MAILROOM_CARDDAV_USERNAME=you@fastmail.com

# Password: a Fastmail app password with CardDAV access
# Create at: Fastmail -> Settings -> Privacy & Security -> Integrations -> New app password
MAILROOM_CARDDAV_PASSWORD=your-app-password-here

# === Polling & Push ===

# MAILROOM_POLL_INTERVAL=60            # Seconds between fallback polls (default: 60, SSE push is primary)
# MAILROOM_DEBOUNCE_SECONDS=3          # SSE event debounce window in seconds (default: 3)

# === Triage Categories ===

# Single JSON array configuring all triage categories. Each category derives:
#   - label: @To{Name} (e.g., "Imbox" -> "@ToImbox")
#   - contact_group: category name (e.g., "Feed")
#   - destination_mailbox: category name (e.g., "Feed"), or inherited from parent
#
# Override defaults by setting MAILROOM_TRIAGE_CATEGORIES to a JSON array:
# MAILROOM_TRIAGE_CATEGORIES='[{"name":"Imbox","destination_mailbox":"Inbox"},{"name":"Feed"},{"name":"Paper Trail"},{"name":"Jail"},{"name":"Person","parent":"Imbox","contact_type":"person"}]'

# === Error Handling / Other ===

# MAILROOM_LABEL_MAILROOM_ERROR=@MailroomError
# MAILROOM_LABEL_MAILROOM_WARNING=@MailroomWarning
# MAILROOM_WARNINGS_ENABLED=true
# MAILROOM_SCREENER_MAILBOX=Screener
# MAILROOM_LOG_LEVEL=info              # debug, info, warning, error
